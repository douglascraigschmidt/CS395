<html>

<title>Image Crawler Reactive Streams Client App (Assignment 4)</title>

<body text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<hr>
<h3>Image Crawler Reactive Streams Client App (Assignment 4)</h3>

<p>The purpose of this assignment is to deepen your experience using
Java functional programming features and their integration with Java
reactive streams.  In particular, for this assignment you'll develop
an app that uses the Project Reactor implementation of reactive
streams to obtain, transform, and store images.</p>

<p> Like the earlier assignments, the code you'll write here will have
a GUI and will run as an Android client app that can either 

<UL> <LI> Perform all image processing locally on the client device
running Android or <P>

<LI> Perform all the image processing remotely using reactive
microservices that can be deployed on one or more servers and
implemented via Spring WebFlux.  </uL>

Please use this GUI along with the unit tests discussed below to help
evaluate and debug your solution. </p>

<p> The following resources may be helpful in completing this
assignment: </p>

<ul>

<li>A detailed overview of Java reactive streams (and a comparison
with Java streams) is available <A
HREF="https://www.youtube.com/watch?v=kG2SEcl1aMM">here</A>.  </li>
<p>

<li>A tutorial overview of Project Reactor appears <A
HREF="https://www.baeldung.com/reactor-core">here</A>.  

</li> </ul>

Naturally, we'll cover all this material in class. <P>

<HR width=50% align=left>
<H4>Assignment Structure and Functionality</H4>

<P>The ImageCrawler app is packaged as a project using the latest
version of <A HREF="https://developer.android.com/studio">Android
Studio</A>.  This app is written in both Kotlin and Java and
demonstrates <EM>many</EM> Android capabilities.  For the purposes of
this assignment, however, you only need to be aware of the following
folders:

<UL>

<li style="margin-bottom:1em"> <A
HREF="image-crawler/src/main/java/edu/vanderbilt/imagecrawler/crawlers/">image-crawler/src/main/java/edu/vanderbilt/imagecrawler/crawlers</A>,
which contains the skeleton(s) you'll need to fill in, as described <A
HREF="#description">below</A>. </li>

<li style="margin-bottom:1em"> <A
HREF="image-crawler/src/test">image-crawler/src/test</A>, which is a
set of unit tests that exercise key features of the app and can be
used to evaluate whether you've correctly satisfied this assignment's
requirements. </li>

<li style="margin-bottom:1em"> <A
HREF="app/src/androidTest/java/assignmentTests/">app/src/androidTest/java/assignmentTests</A>,
which is an Android Studio instrumentation test that runs your app
automatically. </li>

</UL>

<P>To compile this code you need to use the provided Android Studio
project.  You can run this project by clicking the green "Run 'app'"
button in the Android Studio IDE, which should automatically select an
Android Emulator to run, assuming you have one created. The app's
minimum API is 29, so you'll need to select an emulator that uses an
API >= 29. If you don't already have an Android Emulator you can
create one by clicking on the "AVD Manager" button in the Android
Studio IDE.</P>

<hr width=50% align=left>
<A name="description">
<H4>Program Description and "TODO" Tasks</H4>

<P>You'll need to modify several files containing the skeleton Java
code by completing the "TODO - You fill in here" tasks to provide a
working solution.  DO NOT CHANGE THE OVERALL STRUCTURE OF THE SKELETON
- just fill in the "TODO" tasks (and do NOT delete the "TODO" tags)!!!
In particular, you'll need to finish implementing the following "TODO"
tasks for this assignment in the <A
HREF="image-crawler/src/main/java/edu/vanderbilt/imagecrawler/">image-crawler/src/main/java/edu/vanderbilt/imagecrawler</A>
folder: </P>

<UL>

<LI> <A
HREF="image-crawler/src/main/java/edu/vanderbilt/imagecrawler/crawlers/ReactorCrawler.java">crawlers/ReactorCrawler.java</A>. You'll
need to complete the "TODO" tasks in various methods to obtain,
transform, and store images.  This class uses Project Reactor
<CODE>Flux</CODE> and <CODE>Mono</CODE> operators to perform an "image
crawl" asynchronously, starting from a root Uri.  Depending on the
parameters used to run the tests, images from an HTML page reachable
from the root Uri are either downloaded from a remote web server or
read from the local file system and the results are stored in files on
the Android client device. Likewise, these parameters also determine
whether all image processing is either performed locally on the client
device or remotely using reactive microservices deployed on one or
more servers. </P>

<LI> <A
HREF="image-crawler/src/main/java/edu/vanderbilt/imagecrawler/utils/Student.kt">utils/Student.kt</A>.
You need to complete the "TODO" task to set the <CODE>type</CODE>
field to either <CODE>Graduate</CODE> or <CODE>Undergraduate</CODE>,
depending on which version of the assignment that you're
implementing.</LI> <P>

</UL>

<p>The bulk of the code for the app is provided in the skeletons.  In
fact, a complete solution using Java 7 features appears in the <A
HREF="image-crawler/src/main/java/edu/vanderbilt/imagecrawler/crawlers/SequentialLoopsCrawler.java">SequentialLoopsCrawler.java</A>
file.  Your will therefore focus on converting this Java 7-based class
to the <CODE>ReactorCrawler</CODE> class that uses the Project Reactor
framework.  Your solution should use <EM>no</EM> loops nor
(unnecessary) conditional statements in this assignment and instead
use Project Reactor <CODE>Flux</CODE> and <CODE>Mono</CODE> class
operators. Your solution will be considered correct if it passes all
the unit and instrumentation tests. </p>

<hr width=50% align=left> <h4>Skeleton Code</h4>

<p> Skeleton code for this assignment is available <a
href="https://github.com/douglascraigschmidt/CS395/tree/master/assignments/assignment4/">here</a>
in my GitHub account in the <CODE>client-skeleton</CODE> folder.  You
can pull this skeleton code in your repository, read it carefully, and
complete the "TODO" markers.  </p>

<hr width=50% align=left> <h4>Unit Tests</h4>

<p> Unit tests in the <A
HREF="image-crawler/src/test">image-crawler/src/test</A> folder are
provided to increase our/your confidence that your implementation is
working as expected.  You'll need to learn how to use the Android
Studio GUI to run the unit test locally on your computer, as described
<A
HREF="https://developer.android.com/training/testing/unit-testing/local-unit-tests.html#run">here</a>.
As usual, testing only demonstrates the presence of bugs, not their
absence, so don't rely solely on the unit tests to detect problems in
your code. </p>

<hr width=50% align=left> <h4>Concluding Remarks</h4> <p>

<p> This assignment is more complicated than the previous assignments
since it requires deeper knowledge of Project Reactor and remote
communication via Spring WebFlux.  In particular, the asynchronous
nature of reactive streams may take some time to get accustomed to, so
please start the assignment soon and ask questions in class, office
hours, and on the discussion forums.  As usual, the app, image crawler
skeletons, and unit tests are extensive, though you don't need to
understand them all to complete your solution. </p>

</body> </html>
